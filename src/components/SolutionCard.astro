---
interface Props {
  title: string;
  description: string;
  icon: string;
  gradient: string;
  href: string;
  delay?: number;
}

const { title, description, icon, gradient, href, delay = 0 } = Astro.props;
---

<a
  href={href}
  class="solution-card group relative p-6 rounded-2xl bg-dark-surface border border-dark-border hover:border-primary-500/50 transition-all duration-500 card-glow block"
  style={`animation-delay: ${delay}ms`}
>
  <!-- Icon with gradient -->
  <div class={`w-12 h-12 rounded-xl flex items-center justify-center mb-4 bg-gradient-to-br ${gradient}`}>
    <Fragment set:html={icon} />
  </div>

  <!-- Title -->
  <h3 class="text-lg font-semibold text-white mb-2 group-hover:text-primary-400 transition-colors">
    {title}
  </h3>

  <!-- Description -->
  <p class="text-gray-400 text-sm leading-relaxed mb-4">
    {description}
  </p>

  <!-- Learn more link -->
  <div class="flex items-center gap-2 text-primary-400 text-sm font-medium group-hover:text-primary-300 transition-colors">
    <span>Learn more</span>
    <svg class="w-4 h-4 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
    </svg>
  </div>

  <!-- Hover border glow -->
  <div class="absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none">
    <div class="absolute inset-[-1px] rounded-2xl bg-gradient-to-r from-primary-500/20 to-purple-500/20"></div>
  </div>
</a>

<script>
  // Mouse tracking for glow effect
  document.querySelectorAll('.solution-card').forEach(card => {
    (card as HTMLElement).addEventListener('mousemove', (e) => {
      const mouseEvent = e as MouseEvent;
      const target = mouseEvent.target as HTMLElement;
      const solutionCard = target.closest('.solution-card') as HTMLElement | null;
      const rect = solutionCard?.getBoundingClientRect();
      if (rect && solutionCard) {
        const x = mouseEvent.clientX - rect.left;
        const y = mouseEvent.clientY - rect.top;
        solutionCard.style.setProperty('--mouse-x', `${x}px`);
        solutionCard.style.setProperty('--mouse-y', `${y}px`);
      }
    });
  });
</script>

<style>
  .solution-card {
    @apply animate-fade-in-up;
    opacity: 0;
    animation-fill-mode: forwards;
  }
</style>
